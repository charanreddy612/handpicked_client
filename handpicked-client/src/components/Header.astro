---
import HeaderSearchIsland from "../components/islands/HeaderSearchIsland.jsx";

const nav = [
  { href: "/stores", label: "Stores" },
  { href: "/coupons", label: "Coupons" },
  { href: "/blogs", label: "Blogs" },
];
---

<header
  id="top"
  class="w-full border-b border-gray-200 bg-gradient-to-r from-white via-slate-50 to-white shadow-sm"
>
  <div class="container mx-auto px-4 py-3">
    <!-- Top row: logo + optional right-side small actions -->
    <div class="flex items-center justify-between">
      <a href="/" class="flex items-center gap-3 shrink-0">
        <img
          src="/logo.png"
          alt="SavingHarbor"
          width="40"
          height="40"
          class="rounded-sm"
        />
        <span class="font-bold text-lg tracking-tight text-brand-primary"
          >Saving Harbor</span
        >
      </a>
    </div>

    <!-- Middle row: search (full-width on mobile, centered with max width on desktop) -->
    <div class="mt-3 w-full flex justify-center">
      <div class="w-full max-w-2xl">
        <div
          class="bg-white border border-gray-100 rounded-xl shadow-sm px-3 py-2 flex items-center gap-3"
        >
          <div class="flex-1">
            <HeaderSearchIsland client:load />
          </div>

          <!-- small quick CTA (visible on lg) -->
          <a
            href="/stores"
            class="hidden lg:inline-flex items-center text-sm font-medium px-3 py-1 rounded-md bg-brand-primary text-white transition"
          >
            Browse
          </a>
        </div>
      </div>
    </div>

    <!-- Bottom row: nav links (stacked on narrow screens, inline on wide screens) -->
    <nav aria-label="Main navigation" class="mt-3">
      <ul class="flex flex-wrap justify-center gap-2">
        {
          nav.map((n) => (
            <li>
              <a
                href={n.href}
                class="text-sm font-medium text-slate-700 hover:text-brand-primary px-3 py-2 rounded-full transition-shadow hover:shadow-sm"
                role="link"
              >
                {n.label}
              </a>
            </li>
          ))
        }
      </ul>
    </nav>
  </div>
</header>
