---
type Store = {
  id: string | number;
  slug: string;
  name: string;
  logo_url?: string | null;
  category_names?: string[];
  stats?: { active_coupons?: number };
};

const { store } = Astro.props as { store: Store };
---
<a
  href={`/stores/${store.slug}`}
  class="block bg-white border border-gray-200 rounded-lg p-6 hover:shadow-store-card hover:-translate-y-1 transition duration-200 text-center"
>
  <div class="w-20 h-20 mx-auto flex items-center justify-center mb-3 rounded-md bg-brand-dark/5">
    {store.logo_url ? (
      <img
        src={store.logo_url}
        alt={store.name}
        loading="lazy"
        class="object-contain w-full h-full"
      />
    ) : (
      <div class="text-xs text-gray-400">Logo</div>
    )}
  </div>

  <h3 class="font-semibold text-brand-primary truncate">{store.name}</h3>

  {store.stats?.active_coupons !== undefined && (
    <p class="text-xs text-brand-secondary mt-1">
      {store.stats.active_coupons}{" "}
      {store.stats.active_coupons === 1 ? "active coupon" : "active coupons"}
    </p>
  )}
</a>
