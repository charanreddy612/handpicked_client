---
type Store = {
  id: string | number;
  slug: string;
  name: string;
  logo_url?: string | null;
  category_names?: string[];
  stats?: { active_coupons?: number };
};

const { store } = Astro.props as { store: Store };
---

<a
  href={`/stores/${store.slug}`}
  class="block bg-white border rounded-lg p-6 hover:shadow-md transition-shadow duration-200 text-center"
>
  <div class="w-20 h-20 mx-auto flex items-center justify-center mb-3">
    {store.logo_url ? (
      <img
        src={store.logo_url}
        alt={store.name}
        loading="lazy"
        class="object-contain w-full h-full"
      />
    ) : (
      <div class="text-[10px] text-gray-400">Logo</div>
    )}
  </div>

  <h3 class="font-semibold text-gray-900 truncate">{store.name}</h3>

  {store.stats?.active_coupons !== undefined && (
    <p class="text-xs text-green-600 mt-1">
      {store.stats.active_coupons} 
      {store.stats.active_coupons === 1 ? "active coupon" : "active coupons"}
    </p>
  )}
</a>
